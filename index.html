<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Para Minha Amorzinha üíñ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

<style>
/* ===== RESET & BASE ===== */
*{margin:0;padding:0;box-sizing:border-box}
html,body{width:100%;height:100%;overflow-x:hidden}
body{font-family:'Playfair Display',serif;background:#0a0a14;color:#fff;min-height:100vh}

/* ===== BACKGROUND LEVE ===== */
#background{
    position:fixed;
    inset:0;
    z-index:0;
    background:radial-gradient(circle at top left,#ff149320,transparent 60%),
               radial-gradient(circle at bottom right,#ff69b420,transparent 60%),
               #0a0a14;
}

/* ===== CONTAINER ===== */
.container{
    position:relative;
    z-index:1;
    max-width:1100px;
    margin:auto;
    padding:20px;
    min-height:100vh;
}

h1{
    font-family:'Dancing Script';
    font-size:3rem;
    text-align:center;
    background:linear-gradient(45deg,#ff69b4,#ff1493);
    -webkit-background-clip:text;
    color:transparent;
    margin-top:20px;
}
.subtitle{
    text-align:center;
    margin:15px 0 40px;
    opacity:.85;
    font-size:1.2rem;
}

/* ===== SPOTIFY ===== */
.spotify{
    max-width:420px;
    margin:0 auto 40px;
    background:#1e1e28;
    border-radius:16px;
    overflow:hidden;
    box-shadow:0 10px 30px rgba(0,0,0,0.5);
    border:1px solid #ff69b420;
}
.spotify header{
    padding:12px 16px;
    background:linear-gradient(90deg,#ff149320,#ff69b420);
    font-family:'Dancing Script';
    font-size:1.4rem;
    text-align:center;
    color:#fff;
}
.spotify iframe{
    width:100%;
    height:380px;
    border:0;
    display:block;
}
.spotify .fallback{
    display:none;
    padding:25px;
    text-align:center;
    color:#ddd;
}
.spotify .fallback a{
    display:inline-block;
    margin-top:15px;
    padding:10px 25px;
    background:#1db954;
    color:white;
    text-decoration:none;
    border-radius:25px;
    font-weight:bold;
    transition:transform 0.3s;
}
.spotify .fallback a:hover{
    transform:scale(1.05);
}

/* ===== GALERIA ===== */
.gallery{
    position:relative;
    max-width:800px;
    height:420px;
    margin:0 auto 40px;
    border-radius:20px;
    overflow:hidden;
    box-shadow:0 15px 40px rgba(0,0,0,0.6);
    border:1px solid #ff69b430;
}
.slide{
    position:absolute;
    inset:0;
    background-size:cover;
    background-position:center;
    opacity:0;
    transition:opacity 1s ease-in-out;
}
.slide.active{
    opacity:1;
}

/* ===== MENSAGEM ===== */
.message-box{
    background:rgba(30,30,40,0.8);
    padding:30px;
    border-radius:20px;
    text-align:center;
    margin-bottom:40px;
    backdrop-filter:blur(10px);
    border:1px solid #ff69b430;
}
.message{
    font-family:'Dancing Script';
    font-size:2.2rem;
    min-height:140px;
    display:flex;
    align-items:center;
    justify-content:center;
    color:#f0f0f0;
}

/* ===== BOT√ÉO ===== */
#heartBtn{
    display:block;
    margin:0 auto;
    padding:15px 35px;
    border-radius:40px;
    border:2px solid #ff69b4;
    background:linear-gradient(145deg, rgba(255,105,180,0.1), rgba(255,20,147,0.05));
    color:#fff;
    font-family:'Dancing Script';
    font-size:1.3rem;
    cursor:pointer;
    transition:all 0.3s;
    backdrop-filter:blur(10px);
}
#heartBtn:hover{
    background:linear-gradient(145deg, rgba(255,105,180,0.2), rgba(255,20,147,0.1));
    transform:translateY(-3px);
    box-shadow:0 5px 15px rgba(255,20,147,0.3);
}

/* ===== CORA√á√ïES ANIMADOS ===== */
@keyframes floatUp {
    0% {
        transform: translateY(0) scale(0.8);
        opacity: 1;
    }
    100% {
        transform: translateY(-100vh) scale(1.2);
        opacity: 0;
    }
}

@keyframes floatRandom {
    0% {
        transform: translateY(0) translateX(0) rotate(0deg) scale(0.8);
        opacity: 1;
    }
    100% {
        transform: translateY(-100vh) translateX(var(--move-x)) rotate(360deg) scale(1.2);
        opacity: 0;
    }
}

.heart-effect {
    position: fixed;
    pointer-events: none;
    z-index: 1000;
    font-size: 24px;
    animation: floatRandom 4s ease-in forwards;
    text-shadow: 0 0 10px rgba(255,20,147,0.8);
    --move-x: 0px;
}

/* ===== RODAP√â ===== */
footer{
    text-align:center;
    margin:40px 0;
    opacity:.7;
    padding:20px;
    color:#aaa;
}
footer p{
    margin:5px 0;
}

/* ===== RESPONSIVO ===== */
@media(max-width:900px){
    .container{
        padding:15px;
    }
    .spotify{
        max-width:90%;
    }
    .gallery{
        height:350px;
        max-width:90%;
    }
}

@media(max-width:600px){
    h1{
        font-size:2.2rem;
        margin-top:10px;
    }
    .subtitle{
        font-size:1rem;
        margin:10px 0 30px;
    }
    .spotify iframe{
        height:300px;
    }
    .gallery{
        height:260px;
    }
    .message{
        font-size:1.6rem;
        min-height:100px;
    }
    #heartBtn{
        padding:12px 25px;
        font-size:1.1rem;
    }
}

@media(max-width:400px){
    h1{
        font-size:1.8rem;
    }
    .spotify iframe{
        height:250px;
    }
    .gallery{
        height:220px;
    }
    .message{
        font-size:1.4rem;
    }
}
</style>

</head>

<body>
<div id="background"></div>

<div class="container">
    <h1>Para Minha Amorzinha üíñ</h1>
    <p class="subtitle">Cada momento ao seu lado √© um presente que eu guardo no cora√ß√£o</p>

    <!-- SPOTIFY -->
    <div class="spotify" id="spotify">
        <header>üéµ Nossas M√∫sicas üíñ</header>
        <iframe id="spotifyFrame" loading="lazy" title="Playlist rom√¢ntica"></iframe>
        <div class="fallback" id="spotifyFallback">
            <p>üé∂ Para nossa playlist especial</p>
            <a href="https://open.spotify.com/playlist/35izjnQVRfX4d0Fa3vgE1z" target="_blank" rel="noopener">
                üîó Abrir playlist no Spotify
            </a>
            <p style="margin-top:15px;font-size:0.9rem;color:#aaa;">
                <small>Fa√ßa login no Spotify para ouvir diretamente aqui</small>
            </p>
        </div>
    </div>

    <!-- GALERIA -->
    <div class="gallery" id="gallery"></div>

    <!-- MENSAGEM -->
    <div class="message-box">
        <div class="message" id="message"></div>
    </div>

    <!-- BOT√ÉO DE CORA√á√ïES -->
    <button id="heartBtn">Clique aqui para espalhar amor ‚ù§Ô∏è</button>

    <!-- CONTAINER PARA EFEITOS -->
    <div id="effects" style="position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000;"></div>

    <footer>
        <p>Feito com todo amor e carinho do mundo üíï</p>
        <p>Para a pessoa mais especial que j√° conheci</p>
        <p style="margin-top:10px;color:#ff69b4;">Com amor, eternamente seu üíò</p>
    </footer>
</div>

<script>
/* ===== CONFIGURA√á√ÉO ===== */
const photos = [
    'https://images.unsplash.com/photo-1518568814500-bf0f8d125f46?auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1511285560929-80b456fea0bc?auto=format&fit=crop&w=800&q=80',
    'https://images.unsplash.com/photo-1511988617509-a57c8a288659?auto=format&fit=crop&w=800&q=80'
];

const messages = [
    'Cada momento ao seu lado √© o meu favorito. Eu te amo mais do que palavras podem expressar ‚ù§Ô∏è',
    'Seu sorriso ilumina meus dias e aquece meu cora√ß√£o como nada mais nesse mundo.',
    'Voc√™ √© a pessoa mais incr√≠vel que j√° conheci. Obrigado por ser voc√™.',
    'Meu amor por voc√™ cresce a cada dia, a cada sorriso, a cada momento juntos.'
];

/* ===== SPOTIFY SEGURO ===== */
const iframe = document.getElementById('spotifyFrame');
const spotifyFallback = document.getElementById('spotifyFallback');

// Configurar timeout para fallback
let spotifyTimeout = setTimeout(() => {
    iframe.style.display = 'none';
    spotifyFallback.style.display = 'block';
}, 5000);

iframe.src = 'https://open.spotify.com/embed/playlist/35izjnQVRfX4d0Fa3vgE1z?utm_source=generator&theme=0';

iframe.onload = () => {
    clearTimeout(spotifyTimeout);
    console.log('‚úÖ Spotify carregado com sucesso');
};

iframe.onerror = () => {
    clearTimeout(spotifyTimeout);
    iframe.style.display = 'none';
    spotifyFallback.style.display = 'block';
    console.log('‚ÑπÔ∏è Usando fallback do Spotify');
};

/* ===== GALERIA DE FOTOS ===== */
const gallery = document.getElementById('gallery');
let currentIndex = 0;

// Criar slides
photos.forEach((photo, index) => {
    const slide = document.createElement('div');
    slide.className = `slide${index === 0 ? ' active' : ''}`;
    slide.style.backgroundImage = `url(${photo})`;
    gallery.appendChild(slide);
});

const slides = document.querySelectorAll('.slide');

// Slideshow autom√°tico
let galleryInterval = setInterval(() => {
    slides[currentIndex].classList.remove('active');
    currentIndex = (currentIndex + 1) % slides.length;
    slides[currentIndex].classList.add('active');
}, 6000);

// Pausar slideshow ao interagir
gallery.addEventListener('mouseenter', () => clearInterval(galleryInterval));
gallery.addEventListener('touchstart', () => clearInterval(galleryInterval));
gallery.addEventListener('mouseleave', () => {
    galleryInterval = setInterval(() => {
        slides[currentIndex].classList.remove('active');
        currentIndex = (currentIndex + 1) % slides.length;
        slides[currentIndex].classList.add('active');
    }, 6000);
});

/* ===== MENSAGEM DIGITADA ===== */
const messageEl = document.getElementById('message');
let messageIndex = 0;
let charIndex = 0;
let isDeleting = false;
let typeTimeout;

function typeMessage() {
    const currentMessage = messages[messageIndex];
    
    if (isDeleting) {
        messageEl.textContent = currentMessage.substring(0, charIndex - 1);
        charIndex--;
    } else {
        messageEl.textContent = currentMessage.substring(0, charIndex + 1);
        charIndex++;
    }
    
    if (!isDeleting && charIndex === currentMessage.length) {
        // Esperar antes de apagar
        isDeleting = true;
        typeTimeout = setTimeout(typeMessage, 2500);
        return;
    } else if (isDeleting && charIndex === 0) {
        // Pr√≥xima mensagem
        isDeleting = false;
        messageIndex = (messageIndex + 1) % messages.length;
    }
    
    const speed = isDeleting ? 50 : 100;
    typeTimeout = setTimeout(typeMessage, speed);
}

// Iniciar digita√ß√£o ap√≥s carregamento
setTimeout(typeMessage, 1000);

/* ===== SISTEMA DE CORA√á√ïES OTIMIZADO ===== */
const heartBtn = document.getElementById('heartBtn');
const effectsContainer = document.getElementById('effects');
let activeHearts = 0;
const MAX_HEARTS = 20; // Limite para evitar excesso

function createHeart(x = null, y = null) {
    if (activeHearts >= MAX_HEARTS) {
        // Remover cora√ß√£o mais antigo se atingir o limite
        const oldestHeart = effectsContainer.firstChild;
        if (oldestHeart) {
            oldestHeart.remove();
            activeHearts--;
        }
    }
    
    const heart = document.createElement('div');
    heart.className = 'heart-effect';
    heart.textContent = '‚ù§Ô∏è';
    
    // Cores aleat√≥rias
    const colors = ['#ff69b4', '#ff1493', '#db0a5b', '#ff3385'];
    heart.style.color = colors[Math.floor(Math.random() * colors.length)];
    
    // Posi√ß√£o aleat√≥ria ou baseada no clique
    if (x && y) {
        // Se veio de clique, espalhar ao redor do ponto
        const spread = 150;
        const offsetX = (Math.random() - 0.5) * spread;
        const offsetY = (Math.random() - 0.5) * spread;
        heart.style.left = `${x + offsetX}px`;
        heart.style.top = `${y + offsetY}px`;
    } else {
        // Posi√ß√£o completamente aleat√≥ria
        heart.style.left = `${Math.random() * 100}vw`;
        heart.style.top = `${Math.random() * 100}vh`;
    }
    
    // Movimento horizontal aleat√≥rio
    const moveX = (Math.random() - 0.5) * 200;
    heart.style.setProperty('--move-x', `${moveX}px`);
    
    // Tamanho aleat√≥rio
    const size = 20 + Math.random() * 30;
    heart.style.fontSize = `${size}px`;
    
    effectsContainer.appendChild(heart);
    activeHearts++;
    
    // Remover ap√≥s anima√ß√£o
    setTimeout(() => {
        if (heart.parentNode) {
            heart.remove();
            activeHearts--;
        }
    }, 4000);
}

// Bot√£o principal - cria m√∫ltiplos cora√ß√µes
heartBtn.addEventListener('click', (e) => {
    e.preventDefault();
    
    // Feedback visual no bot√£o
    heartBtn.style.transform = 'scale(0.95)';
    setTimeout(() => {
        heartBtn.style.transform = '';
    }, 200);
    
    // Criar v√°rios cora√ß√µes espalhados
    const rect = heartBtn.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;
    
    // Criar cora√ß√µes em leque
    for (let i = 0; i < 8; i++) {
        setTimeout(() => {
            createHeart(centerX, centerY);
        }, i * 50);
    }
});

// Toque/clique na tela para criar cora√ß√µes
document.addEventListener('click', (e) => {
    if (e.target === heartBtn || e.target.closest('#heartBtn')) return;
    
    // Criar alguns cora√ß√µes no local do clique
    for (let i = 0; i < 3; i++) {
        setTimeout(() => {
            createHeart(e.clientX, e.clientY);
        }, i * 80);
    }
});

// Vers√£o mobile-friendly para toque
document.addEventListener('touchstart', (e) => {
    if (e.target === heartBtn || e.target.closest('#heartBtn')) return;
    
    const touch = e.touches[0];
    for (let i = 0; i < 2; i++) {
        setTimeout(() => {
            createHeart(touch.clientX, touch.clientY);
        }, i * 100);
    }
}, { passive: true });

// Criar alguns cora√ß√µes iniciais
setTimeout(() => {
    for (let i = 0; i < 5; i++) {
        setTimeout(() => createHeart(), i * 300);
    }
}, 2000);

/* ===== LIMPEZA DE MEM√ìRIA ===== */
window.addEventListener('beforeunload', () => {
    clearInterval(galleryInterval);
    clearTimeout(typeTimeout);
    clearTimeout(spotifyTimeout);
});

/* ===== LOG DE CARREGAMENTO ===== */
console.log('üíñ P√°gina rom√¢ntica carregada com otimiza√ß√µes:');
console.log('‚úÖ Spotify com fallback autom√°tico');
console.log('‚úÖ Limite de ' + MAX_HEARTS + ' cora√ß√µes simult√¢neos');
console.log('‚úÖ Performance otimizada para mobile');
console.log('‚úÖ Efeitos visuais controlados');
</script>

</body>
</html>
